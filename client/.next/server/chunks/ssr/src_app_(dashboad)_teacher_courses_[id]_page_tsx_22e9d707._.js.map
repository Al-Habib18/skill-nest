{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/al_habib/Codes/practice/skill-nest/client/src/app/%28dashboad%29/teacher/courses/%5Bid%5D/page.tsx"],"sourcesContent":["/** @format */\n\"use client\";\n\nimport { CustomFormField } from \"@/components/CustomFormField\";\nimport Header from \"@/components/Header\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form } from \"@/components/ui/form\";\nimport { courseSchema, } from \"@/lib/schemas\";\nimport {\n    centsToDollars,\n    createCourseFormData,\n    uploadAllVideos,\n} from \"@/lib/utils\";\nimport { openSectionModal, setSections } from \"@/state\";\nimport {\n    useGetCourseQuery,\n    useUpdateCourseMutation,\n    useGetUploadVideoUrlMutation,\n} from \"@/state/api\";\nimport { useAppDispatch, useAppSelector } from \"@/state/redux\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { ArrowLeft, Plus } from \"lucide-react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\n// import DroppableComponent from \"./Droppable\";\n// import ChapterModal from \"./ChapterModal\";\n// import SectionModal from \"./SectionModal\";\n\nconst CourseEditor = () => {\n    const router = useRouter();\n    const params = useParams();\n    const id = params.id as string;\n    const { data: course, isLoading, refetch } = useGetCourseQuery(id);\n    //TODO: upload video funtionality\n\n    const dispatch = useAppDispatch();\n    const { sections } = useAppSelector((state) => state.global.courseEditor);\n\n    const methods = useForm<ChapterFormData>({\n        resolver: zodResolver(chapterSchema),\n        defaultValues: {\n            title: \"\",\n            content: \"\",\n            video: \"\",\n        },\n    });\n\n    useEffect(() => {\n        if (course) {\n            methods.reset({\n                courseTitle: course.title,\n                courseDescription: course.description,\n                courseCategory: course.category,\n                coursePrice: centsToDollars(course.price),\n                courseStatus: course.status === \"Published\",\n            });\n            dispatch(setSections(course.sections || []));\n        }\n    }, [course, methods]);\n\n    const onSubmit = async (data: CourseFormData) => {\n        try {\n            //   const updatedSections = await uploadAllVideos(\n            //     sections,\n            //     id,\n            //     getUploadVideoUrl\n            //   );\n\n            const formData = createCourseFormData(data, updatedSections);\n\n            await updateCourse({\n                courseId: id,\n                formData,\n            }).unwrap();\n\n            refetch();\n        } catch (error) {\n            console.error(\"Failed to update course:\", error);\n        }\n    };\n\n    return <div>course editor</div>;\n};\n\nexport default CourseEditor;\n"],"names":[],"mappings":"AAAA,YAAY;;;;AAQZ;AAKA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAvBA;;;;;;;;;;AAwBA,gDAAgD;AAChD,6CAA6C;AAC7C,6CAA6C;AAE7C,MAAM,eAAe;IACjB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,KAAK,OAAO,EAAE;IACpB,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,oBAAiB,AAAD,EAAE;IAC/D,iCAAiC;IAEjC,MAAM,WAAW,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD;IAC9B,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,QAAU,MAAM,MAAM,CAAC,YAAY;IAExE,MAAM,UAAU,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAmB;QACrC,UAAU,CAAA,GAAA,8JAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YACX,OAAO;YACP,SAAS;YACT,OAAO;QACX;IACJ;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,QAAQ;YACR,QAAQ,KAAK,CAAC;gBACV,aAAa,OAAO,KAAK;gBACzB,mBAAmB,OAAO,WAAW;gBACrC,gBAAgB,OAAO,QAAQ;gBAC/B,aAAa,CAAA,GAAA,mHAAA,CAAA,iBAAc,AAAD,EAAE,OAAO,KAAK;gBACxC,cAAc,OAAO,MAAM,KAAK;YACpC;YACA,SAAS,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE,OAAO,QAAQ,IAAI,EAAE;QAC9C;IACJ,GAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,mDAAmD;YACnD,gBAAgB;YAChB,UAAU;YACV,wBAAwB;YACxB,OAAO;YAEP,MAAM,WAAW,CAAA,GAAA,mHAAA,CAAA,uBAAoB,AAAD,EAAE,MAAM;YAE5C,MAAM,aAAa;gBACf,UAAU;gBACV;YACJ,GAAG,MAAM;YAET;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC9C;IACJ;IAEA,qBAAO,8OAAC;kBAAI;;;;;;AAChB;uCAEe","debugId":null}}]
}