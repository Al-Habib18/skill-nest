{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/al_habib/Codes/practice/skill-nest/client/src/state/index.ts"],"sourcesContent":["/** @format */\n\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface InitialStateTypes {\n    courseEditor: {\n        sections: Section[];\n        isChapterModalOpen: boolean;\n        isSectionModalOpen: boolean;\n        selectedSectionIndex: number | null;\n        selectedChapterIndex: number | null;\n    };\n}\n\nconst initialState: InitialStateTypes = {\n    courseEditor: {\n        sections: [],\n        isChapterModalOpen: false,\n        isSectionModalOpen: false,\n        selectedSectionIndex: null,\n        selectedChapterIndex: null,\n    },\n};\n\nexport const globalSlice = createSlice({\n    name: \"global\",\n    initialState,\n    reducers: {\n        setSections: (state, action: PayloadAction<Section[]>) => {\n            state.courseEditor.sections = action.payload;\n        },\n        openChapterModal: (\n            state,\n            action: PayloadAction<{\n                sectionIndex: number | null;\n                chapterIndex: number | null;\n            }>\n        ) => {\n            state.courseEditor.isChapterModalOpen = true;\n            state.courseEditor.selectedSectionIndex =\n                action.payload.sectionIndex;\n            state.courseEditor.selectedChapterIndex =\n                action.payload.chapterIndex;\n        },\n        closeChapterModal: (state) => {\n            state.courseEditor.isChapterModalOpen = false;\n            state.courseEditor.selectedSectionIndex = null;\n            state.courseEditor.selectedChapterIndex = null;\n        },\n\n        openSectionModal: (\n            state,\n            action: PayloadAction<{ sectionIndex: number | null }>\n        ) => {\n            console.log(\n                \"action.payload.sectionIndex\",\n                action.payload.sectionIndex\n            );\n            state.courseEditor.isSectionModalOpen = true;\n            state.courseEditor.selectedSectionIndex =\n                action.payload.sectionIndex;\n        },\n        closeSectionModal: (state) => {\n            state.courseEditor.isSectionModalOpen = false;\n            state.courseEditor.selectedSectionIndex = null;\n        },\n\n        addSection: (state, action: PayloadAction<Section>) => {\n            state.courseEditor.sections.push(action.payload);\n        },\n        editSection: (\n            state,\n            action: PayloadAction<{ index: number; section: Section }>\n        ) => {\n            state.courseEditor.sections[action.payload.index] =\n                action.payload.section;\n        },\n        deleteSection: (state, action: PayloadAction<number>) => {\n            state.courseEditor.sections.splice(action.payload, 1);\n        },\n\n        addChapter: (\n            state,\n            action: PayloadAction<{ sectionIndex: number; chapter: Chapter }>\n        ) => {\n            state.courseEditor.sections[\n                action.payload.sectionIndex\n            ].chapters.push(action.payload.chapter);\n        },\n        editChapter: (\n            state,\n            action: PayloadAction<{\n                sectionIndex: number;\n                chapterIndex: number;\n                chapter: Chapter;\n            }>\n        ) => {\n            state.courseEditor.sections[action.payload.sectionIndex].chapters[\n                action.payload.chapterIndex\n            ] = action.payload.chapter;\n        },\n        deleteChapter: (\n            state,\n            action: PayloadAction<{\n                sectionIndex: number;\n                chapterIndex: number;\n            }>\n        ) => {\n            state.courseEditor.sections[\n                action.payload.sectionIndex\n            ].chapters.splice(action.payload.chapterIndex, 1);\n        },\n    },\n});\n\nexport const {\n    setSections,\n    openChapterModal,\n    closeChapterModal,\n    openSectionModal,\n    closeSectionModal,\n    addSection,\n    editSection,\n    deleteSection,\n    addChapter,\n    editChapter,\n    deleteChapter,\n} = globalSlice.actions;\n\nexport default globalSlice.reducer;\n"],"names":[],"mappings":"AAAA,YAAY;;;;;;;;;;;;;;;AAEZ;;AAYA,MAAM,eAAkC;IACpC,cAAc;QACV,UAAU,EAAE;QACZ,oBAAoB;QACpB,oBAAoB;QACpB,sBAAsB;QACtB,sBAAsB;IAC1B;AACJ;AAEO,MAAM,cAAc,CAAA,GAAA,8LAAA,CAAA,cAAW,AAAD,EAAE;IACnC,MAAM;IACN;IACA,UAAU;QACN,aAAa,CAAC,OAAO;YACjB,MAAM,YAAY,CAAC,QAAQ,GAAG,OAAO,OAAO;QAChD;QACA,kBAAkB,CACd,OACA;YAKA,MAAM,YAAY,CAAC,kBAAkB,GAAG;YACxC,MAAM,YAAY,CAAC,oBAAoB,GACnC,OAAO,OAAO,CAAC,YAAY;YAC/B,MAAM,YAAY,CAAC,oBAAoB,GACnC,OAAO,OAAO,CAAC,YAAY;QACnC;QACA,mBAAmB,CAAC;YAChB,MAAM,YAAY,CAAC,kBAAkB,GAAG;YACxC,MAAM,YAAY,CAAC,oBAAoB,GAAG;YAC1C,MAAM,YAAY,CAAC,oBAAoB,GAAG;QAC9C;QAEA,kBAAkB,CACd,OACA;YAEA,QAAQ,GAAG,CACP,+BACA,OAAO,OAAO,CAAC,YAAY;YAE/B,MAAM,YAAY,CAAC,kBAAkB,GAAG;YACxC,MAAM,YAAY,CAAC,oBAAoB,GACnC,OAAO,OAAO,CAAC,YAAY;QACnC;QACA,mBAAmB,CAAC;YAChB,MAAM,YAAY,CAAC,kBAAkB,GAAG;YACxC,MAAM,YAAY,CAAC,oBAAoB,GAAG;QAC9C;QAEA,YAAY,CAAC,OAAO;YAChB,MAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,OAAO;QACnD;QACA,aAAa,CACT,OACA;YAEA,MAAM,YAAY,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC,KAAK,CAAC,GAC7C,OAAO,OAAO,CAAC,OAAO;QAC9B;QACA,eAAe,CAAC,OAAO;YACnB,MAAM,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,OAAO,EAAE;QACvD;QAEA,YAAY,CACR,OACA;YAEA,MAAM,YAAY,CAAC,QAAQ,CACvB,OAAO,OAAO,CAAC,YAAY,CAC9B,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,OAAO,CAAC,OAAO;QAC1C;QACA,aAAa,CACT,OACA;YAMA,MAAM,YAAY,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,QAAQ,CAC7D,OAAO,OAAO,CAAC,YAAY,CAC9B,GAAG,OAAO,OAAO,CAAC,OAAO;QAC9B;QACA,eAAe,CACX,OACA;YAKA,MAAM,YAAY,CAAC,QAAQ,CACvB,OAAO,OAAO,CAAC,YAAY,CAC9B,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,OAAO,CAAC,YAAY,EAAE;QACnD;IACJ;AACJ;AAEO,MAAM,EACT,WAAW,EACX,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,UAAU,EACV,WAAW,EACX,aAAa,EACb,UAAU,EACV,WAAW,EACX,aAAa,EAChB,GAAG,YAAY,OAAO;uCAER,YAAY,OAAO","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///home/al_habib/Codes/practice/skill-nest/client/src/state/api.ts"],"sourcesContent":["/** @format */\n\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport { BaseQueryApi, FetchArgs } from \"@reduxjs/toolkit/query\";\nimport { User } from \"@clerk/nextjs/server\";\nimport { Clerk } from \"@clerk/clerk-js\";\nimport { toast } from \"sonner\";\nimport { useParams } from \"next/navigation\";\n\nconst customBaseQuery = async (\n    args: string | FetchArgs,\n    api: BaseQueryApi,\n    extraOptions: any\n) => {\n    const baseQuery = fetchBaseQuery({\n        baseUrl:\n            process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8001\",\n        prepareHeaders: async (headers) => {\n            const token = await window.Clerk?.session?.getToken();\n            if (token) {\n                headers.set(\"Authorization\", `Bearer ${token}`);\n            }\n            return headers;\n        },\n    });\n\n    try {\n        const result: any = await baseQuery(args, api, extraOptions);\n\n        if (result.error) {\n            const errorData = result.error.data;\n            const errorMessage =\n                errorData?.message ||\n                result.error.status.toString() ||\n                \"An error occurred\";\n            toast.error(`Error: ${errorMessage}`);\n        }\n\n        const isMutationRequest =\n            (args as FetchArgs).method && (args as FetchArgs).method !== \"GET\";\n\n        if (isMutationRequest) {\n            const successMessage = result.data?.message;\n            if (successMessage) toast.success(successMessage);\n        }\n\n        if (result.data) {\n            result.data = result.data.data;\n        } else if (\n            result.error?.status === 204 ||\n            result.meta?.response?.status === 24\n        ) {\n            return { data: null };\n        }\n\n        return result;\n    } catch (error: unknown) {\n        const errorMessage =\n            error instanceof Error ? error.message : \"Unknown error\";\n\n        return { error: { status: \"FETCH_ERROR\", error: errorMessage } };\n    }\n};\n\nexport const api = createApi({\n    baseQuery: customBaseQuery,\n    reducerPath: \"api\",\n    tagTypes: [\"Courses\", \"Users\", \"UserCourseProgress\"],\n    endpoints: (build) => ({\n        /* \n    ===============\n    USER CLERK\n    =============== \n    */\n        updateUser: build.mutation<User, Partial<User> & { userId: string }>({\n            query: ({ userId, ...updatedUser }) => ({\n                url: `api/users/clerk/${userId}`,\n                method: \"PUT\",\n                body: updatedUser,\n            }),\n            invalidatesTags: [\"Users\"],\n        }),\n\n        /* \n    ===============\n    COURSES\n    =============== \n    */\n        getAllCourses: build.query<Course[], { category?: string }>({\n            query: ({ category }) => ({\n                url: \"api/courses\",\n                params: { category },\n            }),\n            providesTags: [\"Courses\"],\n        }),\n\n        getCourse: build.query<Course, string>({\n            query: (courseId) => `api/courses/${courseId}`,\n            providesTags: (result, error, id) => [{ type: \"Courses\", id }],\n        }),\n\n        createCourse: build.mutation<\n            Course,\n            { teacherId: string; teacherName: string }\n        >({\n            query: (body) => ({\n                url: `api/courses`,\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: [\"Courses\"],\n        }),\n\n        updateCourse: build.mutation<\n            Course,\n            { courseId: string; formData: FormData }\n        >({\n            query: ({ courseId, formData }) => ({\n                url: `api/courses/${courseId}`,\n                method: \"PUT\",\n                body: formData,\n            }),\n            invalidatesTags: (result, error, { courseId }) => [\n                { type: \"Courses\", id: courseId },\n            ],\n        }),\n\n        deleteCourse: build.mutation<{ message: string }, string>({\n            query: (courseId) => ({\n                url: `api/courses/${courseId}`,\n                method: \"DELETE\",\n            }),\n            invalidatesTags: [\"Courses\"],\n        }),\n\n        getUploadVideoUrl: build.mutation<\n            { uploadUrl: string; videoUrl: string },\n            {\n                courseId: string;\n                chapterId: string;\n                sectionId: string;\n                fileName: string;\n                fileType: string;\n            }\n        >({\n            query: ({\n                courseId,\n                sectionId,\n                chapterId,\n                fileName,\n                fileType,\n            }) => ({\n                url: `api/courses/${courseId}/sections/${sectionId}/chapters/${chapterId}/get-upload-url`,\n                method: \"POST\",\n                body: { fileName, fileType },\n            }),\n        }),\n\n        /* \n    ===============\n    TRANSACTIONS\n    =============== \n    */\n        getTransactions: build.query<Transaction[], string>({\n            query: (userId) => `api/transactions?userId=${userId}`,\n        }),\n        createStripePaymentIntent: build.mutation<\n            { clientSecret: string },\n            { amount: number }\n        >({\n            query: ({ amount }) => ({\n                url: `api/transactions/stripe/payment-intent`,\n                method: \"POST\",\n                body: { amount },\n            }),\n        }),\n\n        createTransaction: build.mutation<Transaction, Partial<Transaction>>({\n            query: (transaction) => ({\n                url: \"api/transactions\",\n                method: \"POST\",\n                body: transaction,\n            }),\n        }),\n\n        /* \n    ===============\n    USER COURSE PROGRESS\n    =============== \n    */\n        getUserEnrolledCourses: build.query<Course[], string>({\n            query: (userId) =>\n                `api/users/course-progress/${userId}/enrolled-courses`,\n            providesTags: [\"Courses\", \"UserCourseProgress\"],\n        }),\n\n        getUserCourseProgress: build.query<\n            UserCourseProgress,\n            { userId: string; courseId: string }\n        >({\n            query: ({ userId, courseId }) =>\n                `api/users/course-progress/${userId}/courses/${courseId}`,\n            providesTags: [\"UserCourseProgress\"],\n        }),\n\n        updateUserCourseProgress: build.mutation<\n            UserCourseProgress,\n            {\n                userId: string;\n                courseId: string;\n                progressData: {\n                    sections: SectionProgress[];\n                };\n            }\n        >({\n            query: ({ userId, courseId, progressData }) => ({\n                url: `api/users/course-progress/${userId}/courses/${courseId}`,\n                method: \"PUT\",\n                body: progressData,\n            }),\n            invalidatesTags: [\"UserCourseProgress\"],\n            async onQueryStarted(\n                { userId, courseId, progressData },\n                { dispatch, queryFulfilled }\n            ) {\n                const patchResult = dispatch(\n                    api.util.updateQueryData(\n                        \"getUserCourseProgress\",\n                        { userId, courseId },\n                        (draft) => {\n                            Object.assign(draft, {\n                                ...draft,\n                                sections: progressData.sections,\n                            });\n                        }\n                    )\n                );\n                try {\n                    await queryFulfilled;\n                } catch {\n                    patchResult.undo();\n                }\n            },\n        }),\n    }),\n});\n\nexport const {\n    useUpdateUserMutation,\n    useCreateCourseMutation,\n    useUpdateCourseMutation,\n    useDeleteCourseMutation,\n\n    /* courses */\n    useGetAllCoursesQuery,\n    useGetCourseQuery,\n    useGetUploadVideoUrlMutation,\n\n    /* transactions */\n    useGetTransactionsQuery,\n    useCreateTransactionMutation,\n    useCreateStripePaymentIntentMutation,\n\n    /* user course progress */\n    useGetUserEnrolledCoursesQuery,\n    useGetUserCourseProgressQuery,\n    useUpdateUserCourseProgressMutation,\n} = api;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///home/al_habib/Codes/practice/skill-nest/client/src/state/redux.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef } from \"react\";\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport { combineReducers, configureStore } from \"@reduxjs/toolkit\";\nimport { Provider } from \"react-redux\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\nimport globalReducer from \"@/state\";\nimport { api } from \"@/state/api\";\n\n/* REDUX STORE */\nconst rootReducer = combineReducers({\n  global: globalReducer,\n  [api.reducerPath]: api.reducer,\n});\n\nexport const makeStore = () => {\n  return configureStore({\n    reducer: rootReducer,\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware({\n        serializableCheck: {\n          ignoredActions: [\n            \"api/executeMutation/pending\",\n            \"api/executeMutation/fulfilled\",\n            \"api/executeMutation/rejected\",\n          ],\n          ignoredActionPaths: [\n            \"meta.arg.originalArgs.file\",\n            \"meta.arg.originalArgs.formData\",\n            \"payload.chapter.video\",\n            \"meta.baseQueryMeta.request\",\n            \"meta.baseQueryMeta.response\",\n          ],\n          ignoredPaths: [\n            \"global.courseEditor.sections\",\n            \"entities.videos.data\",\n            \"meta.baseQueryMeta.request\",\n            \"meta.baseQueryMeta.response\",\n          ],\n        },\n      }).concat(api.middleware),\n  });\n};\n\n/* REDUX TYPES */\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\nexport type AppDispatch = AppStore[\"dispatch\"];\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\n/* PROVIDER */\nexport default function StoreProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const storeRef = useRef<AppStore>();\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n    setupListeners(storeRef.current.dispatch);\n  }\n  return <Provider store={storeRef.current}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;;;AARA;;;;;;;;AAUA,eAAe,GACf,MAAM,cAAc,CAAA,GAAA,0IAAA,CAAA,kBAAe,AAAD,EAAE;IAClC,QAAQ,wHAAA,CAAA,UAAa;IACrB,CAAC,sHAAA,CAAA,MAAG,CAAC,WAAW,CAAC,EAAE,sHAAA,CAAA,MAAG,CAAC,OAAO;AAChC;AAEO,MAAM,YAAY;IACvB,OAAO,CAAA,GAAA,8LAAA,CAAA,iBAAc,AAAD,EAAE;QACpB,SAAS;QACT,YAAY,CAAC,uBACX,qBAAqB;gBACnB,mBAAmB;oBACjB,gBAAgB;wBACd;wBACA;wBACA;qBACD;oBACD,oBAAoB;wBAClB;wBACA;wBACA;wBACA;wBACA;qBACD;oBACD,cAAc;wBACZ;wBACA;wBACA;wBACA;qBACD;gBACH;YACF,GAAG,MAAM,CAAC,sHAAA,CAAA,MAAG,CAAC,UAAU;IAC5B;AACF;AAMO,MAAM,iBAAiB;;IAAM,OAAA,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;AAAe;GAAhD;;QAAuB,4JAAA,CAAA,cAAW;;;AACxC,MAAM,iBAAkD,4JAAA,CAAA,cAAW;AAG3D,SAAS,cAAc,EACpC,QAAQ,EAGT;;IACC,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IACtB,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG;QACnB,CAAA,GAAA,mLAAA,CAAA,iBAAc,AAAD,EAAE,SAAS,OAAO,CAAC,QAAQ;IAC1C;IACA,qBAAO,6LAAC,4JAAA,CAAA,WAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C;IAXwB;KAAA","debugId":null}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///home/al_habib/Codes/practice/skill-nest/client/src/app/provider.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport  StoreProvider  from \"@/state/redux\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n    return <StoreProvider>{children}</StoreProvider>;\n}\n\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACzE,qBAAO,6LAAC,yHAAA,CAAA,UAAa;kBAAE;;;;;;AAC3B;KAFwB","debugId":null}}]
}